<html lang=”en”>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width initial-scale=1.0 maximum-scale=1.0 user-scalable=0" />

    
        <title>T I T L E</title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="style-button.css">

        <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>

        <script src="https://rawgit.com/sitepoint-editors/jsqrcode/master/src/qr_packed.js"></script>
        <script src="qrscanner.js"></script>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="station.js"></script>

        <script src="main.js"></script>
    
    </head>  
<body>
    <main x-data="state()">
        <!-- QR SCANNER -->
        <div class="container">
            <div id="scanner">
                <h1 x-show="user.stationsVisited.length == 0">Let the game begin!</h1>
                <button class="btn" x-show="!audio.isPlaying" @click="showQRScanner()">Starta kamera</button>
                    <template x-if="user.showQRScanner">
                        <ul
                        @click.away="user.showQRScanner = false"
                        >
                        </ul>
                    </template>
                </a>
                <canvas x-show="user.showQRScanner" hidden="" id="qr-canvas"></canvas>
            </div>
        </div>

        <!-- DEV stuff // remove before prod. -->
        <div class="container">
            <div class="devhelper">
                <form @submit.prevent="fakeScan(fakeId)">
                    <input type="text" x-model="fakeId" autofocus/>
                    <button>fakescan</button>
                </form>

                <template x-for="station in user.stationsVisited">
                    <span x-text="station.id"></span>
                </template>

                <p x-text="user.tags"></p>
                <p x-text="user.showQRScanner"></p>

            </div>
        </div>
    </main>

</body>
</html>